ui_print("");
ui_print("Removing old modules...");
run_program("/sbin/busybox", "mount", "/system");
delete_recursive("/system/lib/modules");
ui_print("");
ui_print("");
ui_print("Installing new modules...");
package_extract_dir("system", "/system");
ui_print("");
ui_print("");
run_program("/sbin/busybox", "umount", "/system");
ui_print("");
ui_print("");
ui_print("Installing new kernel...");
package_extract_file("ENIGKERN.img", "/dev/block/mmcblk0p3");
ui_print("");
